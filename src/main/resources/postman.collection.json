{
  "info": {
    "name": "DummyBank API",
    "description": "Banking Application API Collection",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8081",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "bankerToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "clientToken",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"admin\", \"password\": \"admin123\"}"
            },
            "url": "{{baseUrl}}/api/auth/login"
          },
          "event": [{
            "listen": "test",
            "script": {
              "exec": ["if (pm.response.code === 200) { pm.collectionVariables.set('adminToken', pm.response.json().token); }"]
            }
          }]
        },
        {
          "name": "Login Banker",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"banker1\", \"password\": \"banker123\"}"
            },
            "url": "{{baseUrl}}/api/auth/login"
          },
          "event": [{
            "listen": "test",
            "script": {
              "exec": ["if (pm.response.code === 200) { pm.collectionVariables.set('bankerToken', pm.response.json().token); }"]
            }
          }]
        },
        {
          "name": "Login Client",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"client1\", \"password\": \"client123\"}"
            },
            "url": "{{baseUrl}}/api/auth/login"
          },
          "event": [{
            "listen": "test",
            "script": {
              "exec": ["if (pm.response.code === 200) { pm.collectionVariables.set('clientToken', pm.response.json().token); }"]
            }
          }]
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Create Banker",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{adminToken}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"banker2\", \"password\": \"banker456\", \"email\": \"banker2@bank.com\", \"firstName\": \"Jane\", \"lastName\": \"Smith\", \"role\": \"BANKER\"}"
            },
            "url": "{{baseUrl}}/api/admin/bankers"
          }
        },
        {
          "name": "Get All Bankers",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{adminToken}}"}],
            "url": "{{baseUrl}}/api/admin/bankers"
          }
        },
        {
          "name": "Update Banker",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{adminToken}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"banker2_updated\", \"email\": \"banker2.updated@bank.com\", \"firstName\": \"Jane\", \"lastName\": \"Smith-Updated\", \"role\": \"BANKER\"}"
            },
            "url": "{{baseUrl}}/api/admin/bankers/2"
          }
        },
        {
          "name": "Delete Banker",
          "request": {
            "method": "DELETE",
            "header": [{"key": "Authorization", "value": "Bearer {{adminToken}}"}],
            "url": "{{baseUrl}}/api/admin/bankers/2"
          }
        }
      ]
    },
    {
      "name": "Banker",
      "item": [
        {
          "name": "Get All Accounts",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/accounts"
          }
        },
        {
          "name": "Get All Cards",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/cards"
          }
        },
        {
          "name": "Get All Transactions",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/transactions"
          }
        },
        {
          "name": "Create Client",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{bankerToken}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"client2\", \"password\": \"client456\", \"email\": \"client2@example.com\", \"firstName\": \"Bob\", \"lastName\": \"Johnson\", \"role\": \"CLIENT\"}"
            },
            "url": "{{baseUrl}}/api/banker/clients"
          }
        },
        {
          "name": "Update Client",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{bankerToken}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"client2_updated\", \"email\": \"client2.updated@example.com\", \"firstName\": \"Bob\", \"lastName\": \"Johnson-Updated\", \"role\": \"CLIENT\"}"
            },
            "url": "{{baseUrl}}/api/banker/clients/3"
          }
        },
        {
          "name": "Delete Client",
          "request": {
            "method": "DELETE",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/clients/3"
          }
        },
        {
          "name": "Approve Account",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/accounts/1/approve"
          }
        },
        {
          "name": "Reject Account",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/accounts/1/reject"
          }
        },
        {
          "name": "Approve Card",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/cards/1/approve"
          }
        },
        {
          "name": "Reject Card",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{bankerToken}}"}],
            "url": "{{baseUrl}}/api/banker/cards/1/reject?reason=Insufficient%20documentation"
          }
        }
      ]
    },
    {
      "name": "Client",
      "item": [
        {
          "name": "Request Bank Account",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{clientToken}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"iban\": \"GB29NWBK60161331926819\", \"currency\": \"USD\", \"client\": {\"id\": 1}}"
            },
            "url": "{{baseUrl}}/api/client/accounts"
          }
        },
        {
          "name": "Request Debit Card",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{clientToken}}"}],
            "url": "{{baseUrl}}/api/client/accounts/1/cards?monthlySalary=5000.00"
          }
        },
        {
          "name": "Perform Transaction",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{clientToken}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"fromAccountId\": 1, \"toAccountId\": 2, \"amount\": 100.50}"
            },
            "url": "{{baseUrl}}/api/client/transactions"
          }
        },
        {
          "name": "Get My Accounts",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{clientToken}}"}],
            "url": "{{baseUrl}}/api/client/1/accounts"
          }
        },
        {
          "name": "Get My Cards",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{clientToken}}"}],
            "url": "{{baseUrl}}/api/client/1/cards"
          }
        },
        {
          "name": "Get My Transactions",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{clientToken}}"}],
            "url": "{{baseUrl}}/api/client/1/transactions"
          }
        }
      ]
    }
  ]
}